!function(n){n.welpodron&&n.welpodron.an&&(n.welpodron.carousel=function(t={}){this.dom=t.dom,this.sTh=45,this.its=[...this.dom.querySelectorAll("[data-carousel-item]")];for(let t=0;t<this.its.length;t++)if(null!==this.its[t].getAttribute("data-active")){this.currentItem=this.its[t];break}this.currentItem||(this.currentItem=this.its[0]),this.its.forEach(t=>{var e=document.querySelector(`[data-item-id="${t.id}"]`);this.currentItem===t?(e&&e.setAttribute("data-active",""),t.setAttribute("data-active","")):(e&&e.removeAttribute("data-active"),t.removeAttribute("data-active"))}),this.handleTouchEnd=t=>{this.dom.removeEventListener("touchmove",this.handleTouchMove),this.dom.removeEventListener("touchend",this.handleTouchEnd);var e=Math.abs(this.tDX);e>this.sTh&&(this.slide&&this.slide(e/this.tDX<0?"next":"prev"),this.tDX=0)},this.handleTouchMove=t=>{this.tDX=t.touches&&1<t.touches.length?0:t.touches[0].clientX-this.tSX},this.handleTouchStart=t=>{this.tSX=t.touches[0].clientX,this.dom.removeEventListener("touchend",this.handleTouchEnd),this.dom.addEventListener("touchend",this.handleTouchEnd),this.dom.removeEventListener("touchmove",this.handleTouchMove),this.dom.addEventListener("touchmove",this.handleTouchMove)},this.dom.removeEventListener("touchstart",this.handleTouchStart),this.dom.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),this.controls=document.querySelectorAll(`[data-action][data-carousel-id="${this.dom.id}"]`),this.handleClick=t=>{t.preventDefault();var t=t.currentTarget,e=t.getAttribute("data-action");null!==e&&this[e]&&(t=t.getAttribute("data-args"),this[e](t))},this.controls.forEach(t=>{t.removeEventListener("click",this.handleClick),t.addEventListener("click",this.handleClick)})},n.welpodron.carousel.prototype.gNIt=function(t){var e=this.its.indexOf(this.currentItem);return"next"===t?this.its[(e+1)%this.its.length]:"prev"===t?this.its[(e+this.its.length-1)%this.its.length]:(e=parseInt(t),isNaN(e)?void 0:this.its[e])},n.welpodron.carousel.prototype.gNDi=function(t){var e=this.its.indexOf(this.currentItem),t=this.its.indexOf(t),i=this.its.length-1;return(t!==i||0!==e)&&(0===t&&e===i||e<t)?"left":"right"},n.welpodron.carousel.prototype.slide=function(t){if(!this.translating){const i=this.gNIt(t);if(i&&i!==this.currentItem){const s=this.gNDi(i),r=(this.translating=!0,document.querySelector(`[data-item-id="${this.currentItem.id}"]`)),o=document.querySelector(`[data-item-id="${i.id}"]`);var t=new n.welpodron.an({duration:700,from:{x:0},to:{x:100},step:t=>{this.currentItem.style.transform=`translateX(${"left"===s?"-":""}${t.props.x}%)`},easing:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,after:()=>{this.currentItem.removeAttribute("data-active"),r&&r.removeAttribute("data-active"),this.currentItem.style.transform=""}}),e=new n.welpodron.an({duration:700,from:{x:100},to:{x:0},before:()=>{i.style.transform=`translateX(${"left"===s?"-":""}100%)`,i.style.display="block"},step:t=>{i.style.transform=`translateX(${"left"===s?"":"-"}${t.props.x}%)`},easing:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,after:()=>{i.setAttribute("data-active",""),o&&o.setAttribute("data-active",""),i.style.display="",i.style.transform=""}});Promise.all([t.finished,e.finished]).then(()=>{this.currentItem=i,this.translating=!1}),t.start(),e.start()}}},n.welpodron.carouselList=[],document.querySelectorAll("[data-carousel]").forEach(t=>{n.welpodron.carouselList.push(new n.welpodron.carousel({dom:element}))}))}(window);
//# sourceMappingURL=script.min.js.map