"use strict";(()=>{if(window.welpodron&&window.welpodron.animate){var e="data-w-collapse";const l=e+"-id",i=e+"-active",s=e+"-control",t=s+"-active",o=e+"-action",a=o+"-args";o;class n{supportedActions=["hide","show","toggle"];element;animation=null;constructor({element:e}){this.element=e,document.removeEventListener("click",this.handleDocumentClick),document.addEventListener("click",this.handleDocumentClick)}handleDocumentClick=e=>{let t=e["target"];var i,n;if(t&&(t=t.closest(`[${l}="${this.element.getAttribute(l)}"][${s}][${o}]`)))return n=t.getAttribute(o),i=t.getAttribute(a),t.getAttribute("data-w-collapse-action-flush")||e.preventDefault(),n&&this.supportedActions.includes(n)&&(n=this[n])instanceof Function?n({args:i,event:e}):void 0};show=async({args:e})=>{this.animation&&window.clearTimeout(this.animation.timer),null==this.element.getAttribute(i)&&(document.querySelectorAll(`[${l}="${this.element.getAttribute(l)}"][${s}][${o}][${a}="${e}"]`).forEach(e=>{e.setAttribute(t,"")}),this.element.style.height="0px",this.element.setAttribute(i,""),this.element.scrollHeight,this.animation=window.welpodron.animate({element:this.element,callback:()=>{this.element.style.height=this.element.scrollHeight+"px"}}),await this.animation?.promise,this.element.style.removeProperty("height"),this.animation=null)};hide=async({args:e})=>{this.animation&&window.clearTimeout(this.animation.timer),null!=this.element.getAttribute(i)&&(this.element.style.height=this.element.scrollHeight+"px",this.element.style.display="block",this.animation=window.welpodron.animate({element:this.element,callback:()=>{this.element.style.height=this.element.scrollHeight+"px",this.element.removeAttribute(i),document.querySelectorAll(`[${l}="${this.element.getAttribute(l)}"][${s}][${o}][${a}="${e}"]`).forEach(e=>{e.removeAttribute(t)}),this.element.style.height="0px"}}),await this.animation?.promise,this.element.style.removeProperty("display"),this.element.style.removeProperty("height"),this.animation=null)};toggle=async({args:e,event:t})=>(this.animation&&window.clearTimeout(this.animation.timer),null!=this.element.getAttribute(i)?this.hide({args:e,event:t}):this.show({args:e,event:t}))}window.welpodron.collapse=n}})();
//# sourceMappingURL=script.min.js.map