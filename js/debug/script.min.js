function listAllEventListeners(){const t=Array.prototype.slice.call(document.querySelectorAll("*")),n=(t.push(document),t.push(window),[]);for(var e in window)/^on/.test(e)&&(n[n.length]=e);let s=[];for(let e=0;e<t.length;e++){const r=t[e];for(let e=0;e<n.length;e++)"function"==typeof r[n[e]]&&s.push({node:r,type:n[e],func:r[n[e]].toString()});if("function"==typeof r._getEventListeners&&(evts=r._getEventListeners(),0<Object.keys(evts).length))for(var i of Object.keys(evts))for(k=0;k<evts[i].length;k++)s.push({node:r,type:i,func:evts[i][k].listener.toString()})}return s.sort()}EventTarget.prototype._addEventListener=EventTarget.prototype.addEventListener,EventTarget.prototype.addEventListener=function(e,t,n){this._addEventListener(e,t,n=null==n?!1:n),this.eventListenerList||(this.eventListenerList={}),this.eventListenerList[e]||(this.eventListenerList[e]=[]),this.eventListenerList[e].push({listener:t,options:n})},EventTarget.prototype._getEventListeners=function(e){return this.eventListenerList||(this.eventListenerList={}),null==e?this.eventListenerList:this.eventListenerList[e]},EventTarget.prototype._removeEventListener=EventTarget.prototype.removeEventListener,EventTarget.prototype.removeEventListener=function(t,e,n){this._removeEventListener(t,e,n=null==n?!1:n),this.eventListenerList||(this.eventListenerList={}),this.eventListenerList[t]||(this.eventListenerList[t]=[]);for(let e=0;e<this.eventListenerList[t].length;e++)if(this.eventListenerList[t][e].listener,this.eventListenerList[t][e].options==n){this.eventListenerList[t].splice(e,1);break}0==this.eventListenerList[t].length&&delete this.eventListenerList[t]};